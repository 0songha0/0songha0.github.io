---
title: "카프카 프로듀서, 컨슈머 애플리케이션 개발 방법"
excerpt: ""

categories:
  - Kafka
tags:
  - []

permalink: /kafka/2025-05-07-1

toc: true
toc_sticky: true

date: 2025-05-07
last_modified_at: 2025-05-07
---

## 카프카 프로듀서 애플리케이션 개발

### 프로듀서 옵션 설정
<mark>프로듀서 필수 옵션</mark>
<table class="table_2_left">
  <tbody>
    <tr>
      <td>bootstrap.servers</td>
      <td>
        프로듀서가 레코드를 전송할 클러스터에 속한 브로커 호스트명:포트 작성<br>
        2개 이상 작성 시 브로커 장애 대비 가능
      </td>
    </tr>
    <tr>
      <td>key.serializer </td>
      <td>
        메시지 키 직렬화 클래스 지정<br>
        String Serializer로 통일하면 컨슈머 역직렬화 클래스 설정 및 디버깅 시 용이
      </td>
    </tr>
    <tr>
      <td>value.serializer</td>
      <td>메시지 값 직렬화 클래스 지정</td>
    </tr>
  </tbody>
</table>

<mark>프로듀서 선택 옵션</mark>
<table class="table_2_left">
  <tbody>
    <tr>
      <td>acks ★</td>
      <td>
        프로듀서가 보낸 데이터에 대해 브로커로부터 성공 응답을 받을 조건 설정<br>
        기본값 : 1<br><br>
        1 : 리더 브로커에 레코드 저장 시 성공 응답<br>
        0 : 응답 기다리지 않음 (가장 빠르지만 데이터 유실 위험 큼)<br>
        -1 또는 all: 모든 ISR 브로커에 저장되면 성공 응답 (가장 안전)
      </td>
    </tr>
    <tr>
      <td>linger.ms</td>
      <td>
        Accumulator에 모은 배치 데이터 전송 전 기다리는 최소 시간<br>
        기본값 : 0 (Send 시 즉시 전송)
      </td>
    </tr>
    <tr>
      <td>retries</td>
      <td>
        브로커 전송 실패 시 재전송 시도 횟수<br>
        기본값 : Integer.MAX_VALUE (2147483647)
      </td>
    </tr>
    <tr>
      <td>max.in.flight.requests.per.connection</td>
      <td>
        한 커넥션에서 동시 전송할 수 있는 최대 요청 수<br>
        기본값 : 5 (순서 보장 필요 시 1로 설정)
      </td>
    </tr>
    <tr>
      <td>partitioner.class</td>
      <td>
        레코드를 어느 파티션에 보낼지 결정하는 파티셔너 클래스 지정<br>
        기본값 : DefaultPartitioner (카프카 2.4 이상 : UniformStickyPartitioner)
      </td>
    </tr>
    <tr>
      <td>enable.idempotence</td>
      <td>
        네트워크 오류, 재시도 상황에서도 중복 없이 한 번만 레코드를 전송하는 멱등성 보장 여부<br>
        기본값 : true (중복 전송 방지로 안정성 향상)
      </td>
    </tr>
    <tr>
      <td>transactional.id</td>
      <td>
        레코드를 트랙잭션 단위로 묶어서 전송 여부<br>
        기본값 : null (트랜잭션 프로듀서가 아닌, 기본 프로듀서로 동작)
      </td>
    </tr>
  </tbody>
</table>
카프카 2.5.0 버전 기준 기본값이며, 사용하는 클라이언트 라이브러리 버전에 따라 기본값이 다를 수 있습니다.

---

## 카프카 컨슈머 애플리케이션 개발

작성예정