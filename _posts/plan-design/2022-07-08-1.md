---
title: "로그 테이블 설계 및 튜닝 (작성중)"
excerpt: ""

categories:
  - 기획 / 설계
tags:
  - []

permalink: /plan-design/2022-07-08-1

toc: true
toc_sticky: true
 
date: 2022-07-08
last_modified_at: 2022-07-08
---

## 로그 테이블 설계

로그 테이블에는 CRUD 중 CR만 일어나기 때문에
키 값(idx)이 필요 없음.
키 값이 컬럼에 들어가면 저장공간을 더 차지해서 X.

대량의 로그 테이블에 날짜 조건을 두면
날짜 컬럼에 인덱스를 걸어야 하는데 그럼 인덱스 건 것 때문에
insert 시 오버헤드(간접적인 처리 시간)가 발생할 수 있어서 X.


로그 테이블에는 인덱스 걸지 말 것

원래 select 보다 insert가 더 일어나는 테이블에는 인덱스를 안 건다 함

로그테이블 집계 쿼리 성능 문제 해결법 고민해보기

파티셔닝 알아보기

사용자가 페이지를 열 때마다
로그 테이블을 조회하여 Group by 하면
DB서버 메모리 부담도 많이 가고,
로그가 많이 쌓인 미래에 무조건 성능 이슈가 발생하게 됨.
스케줄러로 매일 사용자가 적은 시간마다
집계하여 집계테이블을 조회하는 것도 하나의 해결방안.