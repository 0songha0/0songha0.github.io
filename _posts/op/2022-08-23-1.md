---
title: "리눅스 파일 편집 명령어 정리 / vi, vim 사용법"
excerpt: ""

categories:
  - 리눅스 / 운영
tags:
  - []

permalink: /op/2022-08-23-1

toc: true
toc_sticky: true

date: 2022-08-23
last_modified_at: 2022-08-23
---

## vi, vim 사용법


### vi 편집기 실행
```
vi 파일명
```

### 편집모드로 변경
```
Insert
```
1번 누르면 입력(INSERT), 2번 누르면 수정(REPLACE) 모드가 됩니다.

### 명령모드로 변경
```
esc
```
다른 모드에서 vi 편집기 기본모드로 돌아옵니다.

### 실행모드로 변경
```
:
```
명령모드에서 클론(:) 후 원하는 명령어를 입력할 수 있습니다.

---

## 파일 저장, 종료


### 파일 저장
```
:w
```

<mark>파일 쓰기 권한 없는 경우 에러</mark>
```
E45: 'readonly' option is set (add ! to override)
```

### 파일 강제 저장하고 종료
```
:wq!
```
리눅스 파일 쓰기 권한이 없을 때 느낌표(!)로 강제 저장하고 종료할 수 있습니다.

### 저장하지 않고 나가기
```
:q 또는 ctrl+z
```

---

## 파일 내 이동

### 여러줄 이동
```
Pg Up 또는 Pg Dn
```
로그 파일 볼 때 위, 아래로 여러 줄 이동이 가능합니다.

### 첫 줄로 이동
```
gg
```

### 마지막 줄로 이동
```
shift + g
```

---

## 파일 내용 검색

### 텍스트 검색
```
/검색어
또는
?검색어
```
검색어 입력 시 파일 내에서 일치하는 텍스트가 모두 강조됩니다.

<mark>다음 검색어로 이동 방법</mark>
<table>
  <tbody>
    <tr>
      <td>shift + n</td>
      <td>위 검색어로 이동</td>
    </tr>
    <tr>
      <td>n</td>
      <td>아래 검색어로 이동</td>
    </tr>
  </tbody>
</table>
검색어 입력하고 엔터 후 위 단축키로 검색어를 이동할 수 있습니다.

<mark>grep 텍스트 검색 방법</mark>
```
cat 파일명 | grep 텍스트
또는
grep 텍스트 파일명
```

---

## 파일 텍스트 변경

### Replace All
```
:%s/현재텍스트/변경텍스트/g
```

### Replace
```
:%s/현재텍스트/변경텍스트/gc
```
위에서부터 순차적으로 텍스트 강조 색이 달라지며, 수작업으로 하나씩 y를 눌러 텍스트를 바꿀 수 있습니다.  
수정 완료 후에는 esc로 텍스트 수정 모드를 빠져나갈 수 있습니다.


---

## 파일 수정사항 되돌리기

### 수정 취소
```
u
```
윈도우에서의 Ctrl + Z (Undo) 기능입니다.

### 수정 취소를 취소
```
Ctrl + R
```
윈도우에서의 Ctrl + Y (Redo) 기능입니다.

---

## 파일 한줄 복사 붙여넣기

### 현재 줄 복사
```
yy
```

### 현재 줄 아래에 붙여넣기
```
p
```

---

## 파일 여러줄 복사 붙여넣기

### 블록 선택 시작 (범위지정)
```
v
```
다시 v를 누르면 취소됩니다.

### 선택된 블록 복사
```
y
```

### 현재 커서 오른쪽에 붙여넣기
```
p
```

---

## 파일 내용 삭제

### 한줄 삭제
```
dd
```

### 선택된 블록 삭제
```
d
```
v로 범위를 지정하고 삭제할 수 있습니다.