---
title: "Java API 호출 유틸 개발 / HttpURLConnection 객체 사용"
excerpt: ""

categories:
  - 웹 개발
tags:
  - []

permalink: /web-dev/2023-12-13-1

toc: true
toc_sticky: true
 
date: 2023-12-13
last_modified_at: 2023-12-13
---

## API 호출 유틸 개발

통합 SSO 로그인, 다른 팀 서비스 등 API 호출이 많은 프로젝트여서 공통 유틸을 만들어보았습니다.

### URLConnectionUtil.java
```
package com.intermorph.cmmn.util;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;

public class URLConnectionUtil {
	
	// GET 방식 요청 후 json 리턴 함수
	public String getURLJson(String urlStr) throws Exception {
		URL url = new URL(urlStr);
		
		HttpURLConnection conn = (HttpURLConnection) url.openConnection();
		conn.setRequestMethod("GET");
		conn.setRequestProperty("Content-Type", "application/json");
		conn.setDoOutput(true);
	
		BufferedReader in =null;
		String resultStr = "";
		
		try {
			in = new BufferedReader(new InputStreamReader(conn.getInputStream(), "UTF-8"));

			String inputLine;
			while ((inputLine = in.readLine()) != null) {
				resultStr = resultStr.concat(inputLine);
			}

		} finally {
			if (in != null) {
				in.close();
			}
		}
		
		return resultStr;
	}
}
```
