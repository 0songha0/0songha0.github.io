---
title: "Vue 컴포저블 함수 구현 및 사용 방법"
excerpt: ""

categories:
   - web-dev
tags:
  - []

permalink: /web-dev/2025-06-25-1

toc: true
toc_sticky: true
 
date: 2025-06-25
last_modified_at: 2025-06-25
---

## 컴포저블 함수 (Composable)

상태 관리 및 비즈니스 로직을 캡슐화하여, 여러 컴포넌트에서 재사용할 수 있는 함수형 모듈입니다.  
axios로 서버 API 호출하는 함수도 컴포저블 함수로 만들 수 있습니다.

### 컴포저블 함수 정의 방법
```
import { ref } from 'vue';

// 상태 변수는 모듈 범위에 정의하거나, 상태 관리 스토어 Pinia 사용 필요
// 함수 범위에 정의하면 함수를 호출하는 각 컴포넌트에서 변수가 생성되기 때문에 정상 동작 X
const data변수명1 = ref([]);

export function use컴포저블함수명() {

  // 상태 변경 함수 정의
  const 함수명1 = (파라미터1, 파라미터2) => {
    data변수명1.value.push({ 파라미터1, 파라미터2 });
  }

  return {
    data변수명1,
    함수명1,
  }
}
```
src/composables 폴더 안에 컴포저블 함수를 정의합니다.

<mark>Pinia 스토어 사용하여 컴포저블 함수 정의 예시</mark>
```
import { use데이터분류명Store } from "@/stores/데이터분류명Store.js";

const 데이터분류명Store = use데이터분류명Store();
const { data변수명1}  = storeToRefs(데이터분류명Store);

export function use컴포저블함수명() {

  // 상태 변경 함수 정의
  const 함수명1 = (파라미터1, 파라미터2) => {
    데이터분류명Store.actions함수명();
  }

  return {
    data변수명1,
    함수명1,
  }
}
```

<mark>서버 API 호출 컴포저블 함수 정의 예시</mark>
```
import axios from 'axios';
import { ref } from 'vue';

const posts = ref([]);
const loading = ref(false);

export default function usePosts() {

  const fetchPosts = async () => {
    loading.value = true;
    const response = await axios.get('/api/posts');
    posts.value = response.data;
    loading.value = false;
  };

  return { posts, loading, fetchPosts };
}
```
src/composables/usePosts.js 파일 예시입니다.

### 컴포저블 함수 사용 방법
```
<script setup>
import { use컴포저블함수명 } from '@/composables/컴포저블함수파일명';

const { data변수명1, 함수명1 } = use컴포저블함수명();

함수명1();
</script>
```
위와 같이, 컴포넌트 script에서 컴포저블 함수 import 후 사용할 수 있습니다.
