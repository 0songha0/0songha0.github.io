<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: rgba(224, 224, 224, 0.2);
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: rgba(220, 219, 218, 0.6);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: rgba(193, 192, 191, 0.7);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: rgba(224, 224, 224, 0.5);
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>내부망에서 리눅스 MariaDB 설치 방법 / 기존 DB 마이그레이션 방법 | 0songha0</title>
<meta name="description" content="송하영 개발 블로그">


  <meta name="author" content="0songha0">
  
  <meta property="article:author" content="0songha0">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="송하영 개발 블로그">
<meta property="og:title" content="내부망에서 리눅스 MariaDB 설치 방법 / 기존 DB 마이그레이션 방법">
<meta property="og:url" content="https://0songha0.github.io/op/2024-06-11-1">


  <meta property="og:description" content="송하영 개발 블로그">







  <meta property="article:published_time" content="2024-06-11T00:00:00+00:00">



  <meta property="article:modified_time" content="2024-06-11T00:00:00+00:00">



  

  


<link rel="canonical" href="https://0songha0.github.io/op/2024-06-11-1">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "0songha0",
      "url": "https://0songha0.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="송하영 개발 블로그 Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!-- 목차 옆 아이콘, 글 폰트 등 -->
<link rel="stylesheet" href="/assets/3rdparty/fontawesome-free-5.15.4-web/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    <!-- <link rel="shortcut icon" type="image/x-icon" href="https://0songha0.github.io/assets/images/favicon/favicon.ico"> -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
    <!-- <link rel="manifest" href="/assets/images/favicon/site.webmanifest"> -->
    <link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">

    <meta name="google-site-verification" content="LKDXdTbkqfYcDLaxd7-n3VyPtaYjoDXQ6axWfVew_VQ" />
    <meta name="naver-site-verification" content="adf9ff31fdd5483be60c146ecf49f0bb5ffc89e7" />
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          송하영 개발 블로그
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/search">Search</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <!-- <span class="visually-hidden">Toggle menu</span> -->
          <span class="visually-hidden">Categories</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <a href="/">
          <img src="/assets/images/hamster.png" alt="0songha0" itemprop="image">
        </a>
      
    </div>
  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">0songha0</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">ALL</button> -->
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <!-- <label for="ac-toc">Toggle menu</label> -->
  <label for="ac-toc">Categories</label>

  <ul class="nav__items">
    <!-- <li>
      <span class="nav__total">🌴 Total Posts: 221</span>
    </li> -->
    
    
      <li>
        
              <a href="/plan-design-db"><span class="nav__sub-title">기획 / 설계 / DB</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/web-dev"><span class="nav__sub-title">Web 개발</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/app-dev"><span class="nav__sub-title">App 개발</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/aws"><span class="nav__sub-title">AWS</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/op"><span class="nav__sub-title">리눅스 / 운영</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/tool"><span class="nav__sub-title">윈도우 / Tool</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/python-java"><span class="nav__sub-title">파이썬 / Java</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/network"><span class="nav__sub-title">네트워크 / 보안</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/elk"><span class="nav__sub-title">엘라스틱서치</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/kafka"><span class="nav__sub-title">카프카</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/it-tip"><span class="nav__sub-title">IT Tip</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/english"><span class="nav__sub-title">English</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="내부망에서 리눅스 MariaDB 설치 방법 / 기존 DB 마이그레이션 방법">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2024-06-11T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-06-11T00:00:00+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline" style="color: #fa6a02;">내부망에서 리눅스 MariaDB 설치 방법 / 기존 DB 마이그레이션 방법
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true" style="padding-right: 3px;"></i>
        <time datetime="2024-06-11T00:00:00+00:00">2024-06-11</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <!-- <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header> -->
              <!-- <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> 내부망에서 리눅스 MariaDB 설치 방법 / 기존 DB 마이그레이션 방법</h4></header> -->
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i>목차</h4></header>
              <ul class="toc__menu"><li><a href="#리눅스-mariadb-설치">리눅스 MariaDB 설치</a><ul><li><a href="#mariadb-설치파일-다운">MariaDB 설치파일 다운</a></li><li><a href="#파일질라로-파일-업로드">파일질라로 파일 업로드</a></li><li><a href="#mariadb-설치파일-압축-해제">MariaDB 설치파일 압축 해제</a></li><li><a href="#폴더-소유자-생성-및-변경">폴더 소유자 생성 및 변경</a></li><li><a href="#mariadb-설치-경로-변경">MariaDB 설치 경로 변경</a></li><li><a href="#심볼릭-링크-생성">심볼릭 링크 생성</a></li><li><a href="#mariadb-환경변수-추가">MariaDB 환경변수 추가</a></li><li><a href="#mariadb-설치">MariaDB 설치</a></li><li><a href="#mariadb-설정-파일-생성">MariaDB 설정 파일 생성</a></li><li><a href="#mariadb-서비스-설정-수정">MariaDB 서비스 설정 수정</a></li><li><a href="#mariadb-서비스-systemd-등록">MariaDB 서비스 systemd 등록</a></li><li><a href="#maraidb-서비스-실행">MaraiDB 서비스 실행</a></li></ul></li><li><a href="#mariadb-연결-방법">MariaDB 연결 방법</a><ul><li><a href="#mariadb-루트-계정-접속">MariaDB 루트 계정 접속</a></li><li><a href="#mariadb-계정-생성">MariaDB 계정 생성</a></li><li><a href="#계정-접속-권한-설정">계정 접속 권한 설정</a></li><li><a href="#dbeaver에서-db-연결">DBeaver에서 DB 연결</a></li></ul></li><li><a href="#dbeaver에서-기존-db-마이그레이션-방법">DBeaver에서 기존 DB 마이그레이션 방법</a><ul><li><a href="#신규-db-생성">신규 DB 생성</a></li><li><a href="#기존-테이블-ddl-생성">기존 테이블 DDL 생성</a></li><li><a href="#ddl으로-신규-테이블-생성">DDL으로 신규 테이블 생성</a></li><li><a href="#기존-테이블-insert문-내보내기-sql-파일">기존 테이블 INSERT문 내보내기 (.sql 파일)</a></li><li><a href="#insert문으로-데이터-이관">INSERT문으로 데이터 이관</a></li><li><a href="#view-이관">View 이관</a></li><li><a href="#프로시저-이관">프로시저 이관</a></li></ul></li><li><a href="#mariadb-설정-파일-수정">MariaDB 설정 파일 수정</a><ul><li><a href="#최대-허용-패킷-수-변경">최대 허용 패킷 수 변경</a></li><li><a href="#쿼리-대소문자-오류-해결">쿼리 대소문자 오류 해결</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <p>인터넷 연결이 안되어서 yum 명령어를 사용할 수 없는 리눅스 서버에 바이너리 파일로 MariaDB 설치하는 방법입니다.<br />
정보보안팀 방화벽으로 막혀있는 사내 개발서버에 개발DB를 설치하고, 기존 RDS DB 이관을 진행하였습니다.</p>

<hr />

<h2 id="리눅스-mariadb-설치">리눅스 MariaDB 설치</h2>

<h3 id="mariadb-설치파일-다운">MariaDB 설치파일 다운</h3>
<p><a href="https://mariadb.org/download" target="_blank">https://mariadb.org/download</a><br />
MariaDB Server 탭 &gt; 프로젝트에 맞는 MariaDB Server Version 선택 &gt; Operating System : Linux 선택 &gt; Architecture : 64비트 서버는 x86_64 선택 &gt; Init System : Systemd 선택 &gt; Download 버튼 클릭</p>

<p>rpms.tar 파일은 yum 명령어로 설치할 때 적합한 것 같아서, Systemd tar.gz 파일로 받았습니다.<br />
압축 해제하면 나오는 scripts 폴더 안에 mariadb-install-db 파일이 있어야 합니다.</p>

<h3 id="파일질라로-파일-업로드">파일질라로 파일 업로드</h3>
<p>리눅스 서버의 유저 Home에 MariaDB 설치파일을 업로드 합니다.</p>

<h3 id="mariadb-설치파일-압축-해제">MariaDB 설치파일 압축 해제</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tar -zxvf mariadb-10.6.18-linux-systemd-x86_64.tar.gz
</code></pre></div></div>
<p>z 옵션은 gzip으로 압축된 파일을 해체할 때 사용됩니다.</p>

<h3 id="폴더-소유자-생성-및-변경">폴더 소유자 생성 및 변경</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>groupadd mariadb
useradd -g mariadb mariadb
chown -R mariadb:mariadb mariadb-10.6.18-linux-systemd-x86_64
</code></pre></div></div>
<p>그룹 및 유저를 생성하고 MariaDB 설치 폴더의 소유자를 변경합니다.</p>

<h3 id="mariadb-설치-경로-변경">MariaDB 설치 경로 변경</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mv mariadb-10.6.18-linux-systemd-x86_64 /usr/local
</code></pre></div></div>
<p>/usr/local 폴더 아래로 mariadb 폴더를 이동합니다.</p>

<h3 id="심볼릭-링크-생성">심볼릭 링크 생성</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s /usr/local/mariadb-10.6.18-linux-systemd-x86_64 /usr/local/mariadb
</code></pre></div></div>
<p>심볼릭 링크를 생성하면 실제 폴더명을 변경하지 않고도 간결하게 접근할 수 있습니다.</p>

<h3 id="mariadb-환경변수-추가">MariaDB 환경변수 추가</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/profile
</code></pre></div></div>
<p>가장 하단에 아래의 내용을 추가하고 저장 후, source 명령어를 통해 수정 내용을 적용합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export MARIADB_HOME=/usr/local/mariadb
export PATH=$PATH:$MARIADB_HOME/bin:.
</code></pre></div></div>

<p><mark>수정한 환경변수 적용</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source /etc/profile
</code></pre></div></div>

<h3 id="mariadb-설치">MariaDB 설치</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /usr/local/mariadb/scripts

./mysql_install_db --user=mariadb --basedir=/usr/local/mariadb --datadir=/var/lib/mysql/data
</code></pre></div></div>
<p>–user 옵션에 유저명, –basedir 옵션에 MariaDB 설치 경로를 적어주면 됩니다.</p>

<p><mark>정상 설치 완료 메시지</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Installing MariaDB/MySQL system tables in '/var/lib/mysql/data' ...
OK

To start mariadbd at boot time you have to copy
support-files/mariadb.service to the right place for your system


Two all-privilege accounts were created.
One is root@localhost, it has no password, but you need to
be system 'root' user to connect. Use, for example, sudo mysql
The second is mariadb@localhost, it has no password either, but
you need to be the system 'mariadb' user to connect.
After connecting you can set the password, if you would need to be
able to connect as any of these users with a password and without sudo

See the MariaDB Knowledgebase at https://mariadb.com/kb

You can start the MariaDB daemon with:
cd '/usr/local/mariadb' ; /usr/local/mariadb/bin/mariadbd-safe --datadir='/var/lib/mysql/data'

You can test the MariaDB daemon with mysql-test-run.pl
cd '/usr/local/mariadb/mysql-test' ; perl mariadb-test-run.pl

Please report any problems at https://mariadb.org/jira

The latest information about MariaDB is available at https://mariadb.org/.

Consider joining MariaDB's strong and vibrant community:
https://mariadb.org/get-involved/
</code></pre></div></div>

<h3 id="mariadb-설정-파일-생성">MariaDB 설정 파일 생성</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/my.cnf
</code></pre></div></div>
<p>아래와 같이 입력 후 저장합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[mysqld]
character-set-server=utf8mb4
collation-server=utf8mb4_bin

basedir=/usr/local/mariadb
datadir=/var/lib/mysql/data

[mysqld_safe]
log-error=/var/lib/mysql/log/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid
</code></pre></div></div>
<p>basedir은 mariaDB 설치 경로로 수정해야 합니다.</p>

<h3 id="mariadb-서비스-설정-수정">MariaDB 서비스 설정 수정</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /usr/local/mariadb/support-files/systemd
vi mariadb.service
</code></pre></div></div>
<p>파일 중간 이하에서 설정 정보를 아래와 같이 수정합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User=mariadb
Group=mariadb

ExecStart=/usr/local/mariadb/bin/mariadbd --defaults-file=/etc/my.cnf
</code></pre></div></div>
<p>User와 Group은 mariaDB 폴더 소유자로 수정해야 합니다.<br />
ExecStart 경로는 mariaDB 설치 경로에 맞게 수정해주면 됩니다.</p>

<h3 id="mariadb-서비스-systemd-등록">MariaDB 서비스 systemd 등록</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp mariadb.service /etc/systemd/system
</code></pre></div></div>
<p>서비스 설정 재변경 후에는 데몬 재로드를 통해 변경사항을 적용해야 합니다.</p>

<p><mark>데몬 재로드 방법</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl daemon-reload
</code></pre></div></div>

<h3 id="maraidb-서비스-실행">MaraiDB 서비스 실행</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl start mariadb.service
</code></pre></div></div>
<p>/etc/systemd/system 하위 mariadb.service 파일을 통해 MariaDB 서비스를 실행합니다.</p>

<p><mark>MaraiDB 서비스 상태 확인</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl status mariadb.service
</code></pre></div></div>
<p>Active: active (running)으로 나오면 정상 작동하는 것입니다.</p>

<p><mark>MaraiDB 서비스 종료</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl stop mariadb.service
</code></pre></div></div>

<p><mark>MaraiDB 서비스 재시작</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl restart mariadb.service
</code></pre></div></div>

<hr />

<h2 id="mariadb-연결-방법">MariaDB 연결 방법</h2>

<h3 id="mariadb-루트-계정-접속">MariaDB 루트 계정 접속</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql -u root
</code></pre></div></div>
<p>root 계정에는 -p 옵션 없이 패스워드를 입력하지 않고 접속 가능합니다.</p>

<p><mark>DB 접속 불가 에러 해결</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql: error while loading shared libraries: libncurses.so.5: cannot open shared object file: No such file or directory
</code></pre></div></div>
<p>위와 같이, libncurses.so.5 라이브러리를 찾을 수 없어 MariaDB 접속이 불가하면 아래 명령어를 실행합니다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ln -s /usr/lib64/libncurses.so.6.1 /usr/lib64/libncurses.so.5
</code></pre></div></div>
<p>libncurses.so.6.1 (상위 버전)으로 5 버전 호환이 되므로, 심볼릭 링크 등록만 해주면 해결됩니다.</p>

<h3 id="mariadb-계정-생성">MariaDB 계정 생성</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE USER 'admin'@'%' IDENTIFIED BY '비밀번호';
</code></pre></div></div>
<p>보안을 위해 root 계정은 직접 사용하지 않고, 관리용 계정을 새로 생성하는 것이 좋습니다.</p>

<h3 id="계정-접속-권한-설정">계정 접속 권한 설정</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%' IDENTIFIED BY '비밀번호';
FLUSH PRIVILEGES;
</code></pre></div></div>
<p>admin 계정에 외부 접속할 수 있게 모든 권한을 부여하며 비밀번호를 설정하고, 변경사항을 적용합니다.</p>

<p><mark>권한 정상 적용 메시지</mark></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Query OK, 0 rows affected (0.001 sec)
</code></pre></div></div>

<h3 id="dbeaver에서-db-연결">DBeaver에서 DB 연결</h3>
<p>좌측 Database Navigator 상단 새 데이터베이스 연결 아이콘 &gt; MariaDB 선택 &gt; 다음 &gt;</p>
<table class="table_2_left">
  <tbody>
    <tr>
      <td>Server Host</td>
      <td>서버IP(연결하는 컴퓨터와 서버가 같은 내부망에 위치하면 내부IP로 연결 가능)</td>
    </tr>
    <tr>
      <td>Database</td>
      <td></td>
    </tr>
    <tr>
      <td>Username</td>
      <td>계정명</td>
    </tr>
    <tr>
      <td>Password</td>
      <td>암호</td>
    </tr>
  </tbody>
</table>
<p>위와 같이 DB 정보 입력 &gt; Test Connection 시 Connected 나오면 &gt; 확인</p>

<p><mark>DB 연결 실패 시</mark><br />
리눅스 서버에 MariaDB가 정상적으로 실행 중이고, 내부 연결도 가능한데 외부에서 접근이 불가하다면?<br />
로컬IP에서 서버IP:3306으로 요청할 수 있게 사내 보안팀에 방화벽 허용 요청을 해야 합니다.</p>

<hr />

<h2 id="dbeaver에서-기존-db-마이그레이션-방법">DBeaver에서 기존 DB 마이그레이션 방법</h2>

<h3 id="신규-db-생성">신규 DB 생성</h3>
<p>신규 DB 연결 하위 Databases 우클릭 &gt; Create New Database &gt;</p>
<table class="table_2_left">
  <tbody>
    <tr>
      <td>Database name</td>
      <td>기존 DB명 입력</td>
    </tr>
    <tr>
      <td>Charset</td>
      <td>기존 DB Charset 입력</td>
    </tr>
    <tr>
      <td>Collation</td>
      <td>기존 DB Collation 입력</td>
    </tr>
  </tbody>
</table>
<p>위와 같이 DB 정보 입력 &gt; 확인</p>

<p><mark>기존 DB 인코딩 확인 방법</mark><br />
기존 DB 우클릭 &gt; View Database &gt; Default Charset, Default Collation 확인</p>

<h3 id="기존-테이블-ddl-생성">기존 테이블 DDL 생성</h3>
<p>기존 DB에서 데이블 다중 선택 &gt; 우클릭 &gt; SQL 생성 &gt; DDL &gt; Copy</p>

<h3 id="ddl으로-신규-테이블-생성">DDL으로 신규 테이블 생성</h3>
<p>신규 DB 우클릭 &gt; SQL 편집기 &gt; 새 SQL 편집기 &gt; 복사한 DDL 붙여넣기 &gt; Ctrl + A (전체선택) &gt; Ctrl + Shift + Alt + X (다중 쿼리 일괄 실행) &gt; 테이블 제약조건까지 잘 옮겨졌는지 확인</p>

<h3 id="기존-테이블-insert문-내보내기-sql-파일">기존 테이블 INSERT문 내보내기 (.sql 파일)</h3>
<p>기존 DB에서 데이블 다중 선택 &gt; 우클릭 &gt; 데이터 내보내기 &gt; SQL INSERT문으로 내보내기 &gt; 다음 &gt; 다음 &gt; Include generated columns 체크 (Auto Increment 컬럼 포함), INSERT 구문 당 로우 개수	1 입력 &gt; 다음 &gt; sql 파일 저장할 로컬 Directory 선택, Write to the single file 체크 해제 &gt; 진행</p>

<h3 id="insert문으로-데이터-이관">INSERT문으로 데이터 이관</h3>
<p>notepad++로 sql 파일 열어서 모든 쿼리 전체 복사 &gt; 신규 DB SQL 편집기에 붙여넣기 &gt; 전체 선택 후 다중 쿼리 실행 (Ctrl + Alt + Shift + X)</p>

<p>폴인키 제약조건으로 인해 중간에 실패가 날 수 있으니, 한 테이블씩 끊어서 INSERT하는 것이 좋습니다.<br />
DBeaver가 힙 메모리 초과로 종료될 수 있으므로 오토커밋 설정을 체크 후 INSERT 쿼리 실행을 권장합니다.</p>

<p><mark>대용량 Insert 방법</mark><br />
<a href="https://0songha0.github.io/tool/2023-02-16-1#대용량-sql-파일-실행-방법" target="_blank">https://0songha0.github.io/tool/2023-02-16-1#대용량-sql-파일-실행-방법</a></p>

<h3 id="view-이관">View 이관</h3>
<p>기존 DB에서 View 우클릭 &gt; SQL 생성 &gt; DDL &gt; Copy &gt; 옮길 DB에서 쿼리 실행</p>

<h3 id="프로시저-이관">프로시저 이관</h3>
<p>기존 DB에서 Procedure 우클릭 &gt; SQL 생성 &gt; DDL &gt; Copy &gt; 옮길 DB에서 실행</p>

<hr />

<h2 id="mariadb-설정-파일-수정">MariaDB 설정 파일 수정</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/my.cnf
</code></pre></div></div>
<p>my.cnf 파일 수정하면 반드시 DB를 재시작해야 적용됩니다.</p>

<h3 id="최대-허용-패킷-수-변경">최대 허용 패킷 수 변경</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[mysqld]
max_allowed_packet=64M
</code></pre></div></div>
<p>대용량 INSERT 쿼리 실행 시, 최대 허용 패킷 수를 충분히 높이면 패킷 초과 에러가 나지 않습니다.</p>

<h3 id="쿼리-대소문자-오류-해결">쿼리 대소문자 오류 해결</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[mysqld]
lower_case_table_names=1
</code></pre></div></div>
<p>쿼리는 대문자인데 실제 테이블이 소문자여서 테이블 doesn’t exist 에러가 날 때 설정하면 좋은 옵션입니다.</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories#op" class="page__taxonomy-item" rel="tag">리눅스 / 운영</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2024-06-11">2024-06-11</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/python-java/2024-06-13-1" class="pagination--pager" title="프로그래머스 SQL 고득점 Kit 106문제 MySQL 풀이 (작성중)
">❮</a>
    
    
      <a href="/web-dev/2024-05-31-1" class="pagination--pager" title="JSP에 Google Analytics (GA 코드) 삽입 방법
">❯</a>
    
  </nav>


    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">최신 글</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline" style="color: #FF6C02;">
      
        <a href="/english/2025-06-22-1" rel="permalink">영단어 기본 구조 정리 / 접두사, 어근, 접미사 요약
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true" style="padding-right: 3px;"></i>
        <time datetime="2025-06-22T00:00:00+00:00">2025-06-22</time>
      </span>
    

    

    
  </p>


    <!-- <p class="archive__item-excerpt" itemprop="description">
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline" style="color: #FF6C02;">
      
        <a href="/web-dev/2025-06-20-1" rel="permalink">Vue 상태관리 라이브러리 Pinia 사용밥
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true" style="padding-right: 3px;"></i>
        <time datetime="2025-06-20T00:00:00+00:00">2025-06-20</time>
      </span>
    

    

    
  </p>


    <!-- <p class="archive__item-excerpt" itemprop="description">
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline" style="color: #FF6C02;">
      
        <a href="/web-dev/2025-06-19-1" rel="permalink">Vue 내장 컴포넌트 Transition, Teleport 사용법
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true" style="padding-right: 3px;"></i>
        <time datetime="2025-06-19T00:00:00+00:00">2025-06-19</time>
      </span>
    

    

    
  </p>


    <!-- <p class="archive__item-excerpt" itemprop="description">
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline" style="color: #FF6C02;">
      
        <a href="/web-dev/2025-06-17-1" rel="permalink">Vue 환경변수 사용 방법 / 서버벌 env 분리 설정
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true" style="padding-right: 3px;"></i>
        <time datetime="2025-06-17T00:00:00+00:00">2025-06-17</time>
      </span>
    

    

    
  </p>


    <!-- <p class="archive__item-excerpt" itemprop="description">
</p> -->
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>ALL</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/categories">
        <!-- <i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> -->Categories</a>
      </li>
    
  </ul>
</div>

<!--
<div class="page__footer-copyright">&copy; 2025 0songha0. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
-->

<div class="page__footer-copyright"><a href="https://0songha0.tistory.com" target="_blank">하영</a> 블로그 : 오늘도 행복한 하루 보내세요.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>







    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', '0songha0/0songha0.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
